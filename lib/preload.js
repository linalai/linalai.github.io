function ImagesControl(o,n){this.init(o,n)}function ImagesData(){this.aSrc=IMG,this.nLoadedImgs=0}IMGPATH="./images/",module.exports=ImagesControl,ImagesControl.prototype.init=function(o,n){this.nLoadedImgs=0,this.ele={},this.ele.oLoad=document.querySelector("#loading"),this.preLoadImgs(o,n)},ImagesControl.prototype.preLoadImgs=function(o,n){function e(){a.nLoadedImgs++,$("#loading_percent").text(parseInt(a.nLoadedImgs/o.length*100)+"%"),a.nLoadedImgs==o.length&&(console.log("图片加载完成"),a.ele.oLoad.style.display="none",s(t))}var t=[];this.nLoadedImgs=0;for(var s=n||function(){},o="object"!=typeof o?[o]:o,a=this,i=0,d=o.length;d>i;i++)t[i]=new Image,t[i].onload=function(){this.onload=null,e()},t[i].onerror=function(){e()},t[i].src=IMGPATH+o[i];return{done:function(o){s=o||s}}};